<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · SequencerJ</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">SequencerJ</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">ABCs of SequencerJ</a></li><li><a class="tocitem" href="../algorithms/">Metrics</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Functions"><span>Functions</span></a></li><li><a class="tocitem" href="#Metrics"><span>Metrics</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/turingtest37/SequencerJulia.jl/blob/master/docs/src/api.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.SequencerResult" href="#SequencerJ.SequencerResult"><code>SequencerJ.SequencerResult</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SequencerResult
    EOSeg::Dict{Tuple,Any} # list of elongation and orderings (BFS,DFS), one per Segment    
    EOAlgScale::Dict{Tuple,Any} # elongation and orderings for the cumulated weighted distances
    D::AbstractMatrix # final distance matrix
    mst::LightGraphs.AbstractGraph # final mst
    η::Real # final elongation
    order::AbstractVector #final ordering from bfs</code></pre><p>Type containing the results of a Sequencer run.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/sequencer.jl#L1-L12">source</a></section></article><p>Call accessor functions using the SequencerResult object. For example, to get the final column ordering of the data, call <a href="#SequencerJ.order"><code>order</code></a> :</p><pre><code class="language-julia">A = rand(100,100);
r = sequence(A;);
order(r)</code></pre><pre class="documenter-example-output">100-element Array{Int64,1}:
 61
 96
 81
 78
 36
 31
 97
 95
 65
 66
  ⋮
 20
 15
 11
 45
 25
 64
 44
 76
 88</pre><h2 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.sequence" href="#SequencerJ.sequence"><code>SequencerJ.sequence</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">sequence(A::VecOrMat{T}; 
    scales=nothing,
    metrics=ALL_METRICS,
    grid=nothing,
    ) where {T &lt;: Real}</code></pre><p>Analyze the provided <code>m x n</code> matrix (or m vectors of vectors n) by applying one or more 1-dimensional statistical metrics to  each column of data, possibly after dividing the data into smaller row sets. Columns are compared pairwise for each combination  of metric and scale to create a n x n distance matrix that is analyzed as a graph using a novel algorithm. Details of the algorithm are provided in the paper cited below, by D. Baron and B. Ménard.</p><pre><code class="language-julia">sequence(A, metrics=ALL_METRICS, scales=nothing)</code></pre><p>or equivalently:</p><pre><code class="language-julia">sequence(A)</code></pre><p>as <code>metrics=ALL_METRICS</code> and <code>scales=nothing</code> are defaults. If you want to specify only one metric, you must wrap it in a 1-tuple. e.g. to use only KL Divergence, write:</p><pre><code class="language-julia">sequence(A, metrics=(KLD,), scales=nothing</code></pre><p>Use the <code>scales</code> keyword to specify the number of &quot;chunks&quot; into which the data should be divided, as a tuple, e.g. </p><pre><code class="language-julia">sequence(A, scales=(1,3,5))</code></pre><p>In the <code>autoscale</code> mode (enabled by default as <code>scales=nothing</code>) SequencerJ will find its own &quot;best scale&quot; based on  running the Sequencer against a sample of columns (10% for now) and picking the scale that results in the greatest elongation.</p><p>A 1-D grid may be provided. The grid - whose deltas figure in the distance calculations - must be non-negative  real numbers (Float16, Float32, or Float64). The grid length must equal the number of rows in A.</p><pre><code class="language-julia">julia&gt; sequence(A; metrics=(WASS1D,L2), grid=collect(0.5:0.5:size(A,1))) # grid must equal the size of A along dim 1</code></pre><p>The paper that describes the Sequencer algorithm and its applications can be found  on <a href="https://arxiv.org/abs/2006.13948">Arxiv</a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/sequencer.jl#L67-L114">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.elong" href="#SequencerJ.elong"><code>SequencerJ.elong</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">elong(r::SequencerResult)</code></pre><p>Return the elongation coefficient of the final, weighted graph.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/sequencer.jl#L51-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.order" href="#SequencerJ.order"><code>SequencerJ.order</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">order(r::SequencerResult)</code></pre><p>Return the result column indices, as determined by the Sequencer algorithm.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/sequencer.jl#L56-L61">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.mst" href="#SequencerJ.mst"><code>SequencerJ.mst</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">mst(r::SequencerResult)</code></pre><p>Return the final minimum spanning tree graph from a Sequencer run. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/sequencer.jl#L43-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.D" href="#SequencerJ.D"><code>SequencerJ.D</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">D(r::SequencerResult)</code></pre><p>Return the final distance matrix from the Sequencer run.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/sequencer.jl#L35-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.η" href="#SequencerJ.η"><code>SequencerJ.η</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">η(r::SequencerResult)</code></pre><p>Alias for <code>elong</code>. The final graph elongation of a Sequencer run.</p><p>Pro tip: write η using `<code>followed by TAB</code>eta` at the Julia repl.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/sequencer.jl#L22-L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.EMD-Tuple{}" href="#SequencerJ.EMD-Tuple{}"><code>SequencerJ.EMD</code></a> — <span class="docstring-category">Method</span></header><section><div><p>EMD distance with with no grid provided. Grids default to axes(u,1) and axes(v,1).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.EMD-Union{Tuple{T}, Tuple{AbstractArray{T,1},AbstractArray{T,1}}} where T&lt;:Real" href="#SequencerJ.EMD-Union{Tuple{T}, Tuple{AbstractArray{T,1},AbstractArray{T,1}}} where T&lt;:Real"><code>SequencerJ.EMD</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">EMD(u::AbstractVector{T}, v::AbstractVector{T}) where {T &lt;: Real}</code></pre><p>Calculate the Earth Mover Distance (EMD) a.k.a the 1-Wasserstein distance between the two given vectors, accepting a default grid. <code>u</code> and <code>v</code> are treated as  weights on the grid. The default grid is equal to the first axis of <code>u</code> and <code>v</code>.</p><pre><code class="language-">u = rand(10);
u .= u / sum(u);
sum(u)</code></pre><p><code>EMD</code> implements the Distances package convention of runnable types:</p><pre><code class="language-">v = rand(10);
v .= v / sum(v);
d = EMD()(u,v)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L20-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.EMD-NTuple{4,Any}" href="#SequencerJ.EMD-NTuple{4,Any}"><code>SequencerJ.EMD</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">EMD(u,v,uw,vw)</code></pre><p>Calculate the Earth Mover&#39;s Distance using an explicit grid. This method is not intended to be called directly. Instead, specify a grid in the call to sequence, with the WASS1D constant.</p><pre><code class="language-julia-repl">
julia&gt; A = rand(50, 100)
50×100 Array{Float64,2}:
[...]
julia&gt; g = collect(0.5:0.5:div(size(A,1),2))
50-element Array{Float64,1}:
   0.5
   1.0
   1.5
  [...]
  24.0
  24.5
  25.0
julia&gt; sequence(A; grid = g)
┌ Info: Sequencing data with
│     shape: (50, 100)
│     metric(s): (SqEuclidean(0.0), EMD(nothing), KLDivergence(), Energy(nothing))
└     scale(s): (1, 2, 4)
[ Info: `SqEuclidean(0.0) at scale 1: η = 5.214 (3.4s)
[...]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L49-L78">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.emd" href="#SequencerJ.emd"><code>SequencerJ.emd</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Convenience method for <code>EMD(u,v)</code>.</p><p>See <a href="../algorithms/#SequencerJ.EMD"><code>EMD(u,v)</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L78-L82">source</a></section><section><div><p>Convenience method for <code>EMD(u,v,uw,vw)</code>.</p><p>See <a href="#SequencerJ.EMD-NTuple{4,Any}"><code>EMD(u,v,uw,vw)</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L85-L89">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.Energy-Tuple{}" href="#SequencerJ.Energy-Tuple{}"><code>SequencerJ.Energy</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Default constructor with no specified grid.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L108">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.Energy-Union{Tuple{T}, Tuple{AbstractArray{T,1},AbstractArray{T,1}}} where T&lt;:Real" href="#SequencerJ.Energy-Union{Tuple{T}, Tuple{AbstractArray{T,1},AbstractArray{T,1}}} where T&lt;:Real"><code>SequencerJ.Energy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Energy(u,v)</code></pre><p>Calculate Székely&#39;s energy distance between the two given vectors, accepting a default grid. <code>u</code> and <code>v</code> are treated as weights on the grid. The default grid is equal to the first axis of <code>u</code> and <code>v</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L148-L154">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.Energy-NTuple{4,Any}" href="#SequencerJ.Energy-NTuple{4,Any}"><code>SequencerJ.Energy</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Energy(u,v,uw,vw)</code></pre><p>Calculate Székely&#39;s energy distance between the two given vectors, <code>u</code> and <code>v</code>,  whose weights <code>uw</code>, <code>vw</code> are treated as a empirical cumulative distribution function (CDF). <code>u</code> and <code>v</code> must have the same length, respectively, as <code>uw</code> and <code>vw</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L132-L139">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.energy" href="#SequencerJ.energy"><code>SequencerJ.energy</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Convenience function for Energy with a supplied grid.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L161-L163">source</a></section><section><div><p>Convenience function for Energy with a default unit grid.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L166-L168">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.elongation" href="#SequencerJ.elongation"><code>SequencerJ.elongation</code></a> — <span class="docstring-category">Function</span></header><section><div><p><code>julia</code></p><p><code>elongation(g, startidx)</code></p><p>Returns the ratio of the graph g&#39;s half-length (mean of path distances) over the  half-width, defined as the mean count of shortest paths from the center node of a minimum spanning tree over the graph. This function calls the <code>dijkstra_shortest_paths</code>  function in <code>LightGraphs</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/sequencer.jl#L383-L392">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.ensuregrid!" href="#SequencerJ.ensuregrid!"><code>SequencerJ.ensuregrid!</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Ensure that the size of the 1-D grid, if provided, is compatible with the data in <code>A</code>. Create a grid if one was not provided.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/sequencer.jl#L335-L338">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.unroll" href="#SequencerJ.unroll"><code>SequencerJ.unroll</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Walk the given graph, starting from the given vertex, returning the list of all outbound vertices that are visited.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/utils.jl#L11-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.prettyp" href="#SequencerJ.prettyp"><code>SequencerJ.prettyp</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Print the sequence of outbound nodes of a graph starting from the given index. pystyle implies reversing the final order and substracting 1 from the vertex number.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/utils.jl#L1-L4">source</a></section><section><div><p>Return the first and last <code>len</code> elements of the vector as a string.</p><p>Default is to print 3 elements at head and tail.</p><pre><code class="language-julia">julia&gt; v = collect(1:10);
julia&gt; prettyp(v)

&quot;1,2,3...8,9,10&quot;</code></pre><p>Example w/5 elements visible</p><pre><code class="language-julia">julia&gt; v = collect(1:10);
julia&gt; prettyp(v, 5)

&quot;1,2,3,4,5...6,7,8,9,10&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/utils.jl#L26-L47">source</a></section></article><h2 id="Metrics"><a class="docs-heading-anchor" href="#Metrics">Metrics</a><a id="Metrics-1"></a><a class="docs-heading-anchor-permalink" href="#Metrics" title="Permalink"></a></h2><pre><code class="language-none">[`KLD`](@ref)
[`L2`](@ref)
[`ENERGY`](@ref)
[`WASS1D`](@ref)
[`ALL_METRICS`](@ref)</code></pre><pre><code class="language-none">See [`SqEuclidean()`](@ref)
See [`KLDivergence()`](@ref)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../examples/">« Examples</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 12 September 2020 14:07">Saturday 12 September 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>

<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Metrics · SequencerJ</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">SequencerJ</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">ABCs of SequencerJ</a></li><li class="is-active"><a class="tocitem" href>Metrics</a><ul class="internal"><li><a class="tocitem" href="#Types"><span>Types</span></a></li><li><a class="tocitem" href="#Constants"><span>Constants</span></a></li><li><a class="tocitem" href="#Usage"><span>Usage</span></a></li></ul></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Metrics</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Metrics</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/turingtest37/SequencerJulia.jl/blob/master/docs/src/algorithms.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Metrics"><a class="docs-heading-anchor" href="#Metrics">Metrics</a><a id="Metrics-1"></a><a class="docs-heading-anchor-permalink" href="#Metrics" title="Permalink"></a></h1><h2 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h2><p>SequencerJ currently supports the four algorithms originally cited in the article and supported by the <code>python</code> version of the Sequencer. These are:</p><article class="docstring"><header><a class="docstring-binding" id="Distances.SqEuclidean" href="#Distances.SqEuclidean"><code>Distances.SqEuclidean</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">SqEuclidean([thresh])</code></pre><p>Create a squared-euclidean semi-metric. For the meaning of <code>thresh</code>, see <a href="@ref"><code>Euclidean</code></a>.</p></div></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>KLDivergence</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.EMD" href="#SequencerJ.EMD"><code>SequencerJ.EMD</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">EMD</code></pre><p>Earth Mover&#39;s Distance, a.k.a. 1-p Monge-Wasserstein distance. The algorithm as  implemented here assumes balanced transport where both vectors have the same statistical mass (they both sum to 1). Input vectors should be normalized to sum to 1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L5-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.Energy" href="#SequencerJ.Energy"><code>SequencerJ.Energy</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Energy</code></pre><p>Energy distance as defined by Székely. An explicit grid may be provided. Default is  <code>axes(u,1)</code> and <code>axes(v,1)</code>.</p><p><a href="https://en.wikipedia.org/wiki/Energy_distance">Energy distance</a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L95-L103">source</a></section></article><p>Each algorithm has associated to it a constant that represents a usable default type instance (with a default grid):</p><h2 id="Constants"><a class="docs-heading-anchor" href="#Constants">Constants</a><a id="Constants-1"></a><a class="docs-heading-anchor-permalink" href="#Constants" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.L2" href="#SequencerJ.L2"><code>SequencerJ.L2</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Constant to use when specifying the Square Euclidean or L2 distance metric for a sequencing run.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L224-L226">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.KLD" href="#SequencerJ.KLD"><code>SequencerJ.KLD</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Constant for specifiying the Kullbach-Leibler Divergence metric.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L229-L231">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.WASS1D" href="#SequencerJ.WASS1D"><code>SequencerJ.WASS1D</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Constant for specifiying the Monge-Wasserstein a.k.a. 1-p Wasserstein a.k.a. Earth Mover&#39;s Distance (EMD) metric. This metric is sensitive to the underlying grid. Default is unit grid taken from the axes of the data vector.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L234-L237">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.ENERGY" href="#SequencerJ.ENERGY"><code>SequencerJ.ENERGY</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Constant for specifiying the Energy distance as defined by Székely. <a href="https://en.wikipedia.org/wiki/Energy_distance">Wikipedia article</a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L240-L243">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="SequencerJ.ALL_METRICS" href="#SequencerJ.ALL_METRICS"><code>SequencerJ.ALL_METRICS</code></a> — <span class="docstring-category">Constant</span></header><section><div><p>Convenience constant to represent all of L2, WASS1D, KLD, and ENERGY.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/turingtest37/SequencerJulia.jl/blob/c4fc3be66a033395bca1b0c9e9d1192cd9f8d59a/src/distancemetrics.jl#L246">source</a></section></article><h2 id="Usage"><a class="docs-heading-anchor" href="#Usage">Usage</a><a id="Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Usage" title="Permalink"></a></h2><h3 id="Data-Orientation"><a class="docs-heading-anchor" href="#Data-Orientation">Data Orientation</a><a id="Data-Orientation-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Orientation" title="Permalink"></a></h3><p>SequencerJ operates on pairwise <em>columns</em> of data in the given matrix (or vector of vectors). It  builds an N x N distance matrix for further analysis, given an N-column input. It is therefore important to properly orient the data matrix so that M observations run downward along N columns, with each column representing a separate data set or series.</p><p>This can be performed efficiently with <code>permutedims</code>:</p><pre><code class="language-julia">A = rand(10,5)
M,N = size(A)
A = M &lt; N ? permutedims(A) : A</code></pre><pre class="documenter-example-output">10×5 Array{Float64,2}:
 0.99952    0.668349   0.457608  0.0567948  0.203346
 0.232961   0.681261   0.976968  0.9045     0.448153
 0.598168   0.640356   0.178708  0.615234   0.811661
 0.698737   0.0115577  0.282144  0.722056   0.986782
 0.162458   0.677213   0.619702  0.728158   0.156785
 0.690132   0.152384   0.581529  0.519223   0.565625
 0.663307   0.0212311  0.410208  0.0455111  0.65151
 0.026314   0.513785   0.103104  0.0580772  0.512276
 0.292633   0.232851   0.948449  0.84673    0.335721
 0.0980011  0.406992   0.998342  0.500926   0.316422</pre><p>While a 2-D data set such as a photograph may be shuffled and reassembled in either orientation, the Sequencer algorithm will work better with more rows and fewer columns (i.e. M &gt; N).</p><h3 id="Autoscaling"><a class="docs-heading-anchor" href="#Autoscaling">Autoscaling</a><a id="Autoscaling-1"></a><a class="docs-heading-anchor-permalink" href="#Autoscaling" title="Permalink"></a></h3><p>The Sequencer algorithm&#39;s processing time rises as N x N, posing a challenge for data exploration with larger data sets. It may require considerable experimentation with multiple scales and metrics before finding an optimum combination. To assist with finding an appropriate scale, SequencerJ offers an &quot;autoscaling&quot; option. This is, in fact, the default behavior with the keyword argument <code>scales=nothing</code>.</p><p>In autoscaling, SequencerJ first performs the sequencing function at several scales on a subset of columns. The scale producing the greatest elongation (see <a href="../api/#SequencerJ.elong"><code>elong</code></a>) is then used on the full dataset. This is a feature specific to the Julia port of the Sequencer algorithm.</p><p>At present, there is no &quot;autometric&quot; option to choose the best metric.</p><h3 id="Metrics-and-Grids"><a class="docs-heading-anchor" href="#Metrics-and-Grids">Metrics and Grids</a><a id="Metrics-and-Grids-1"></a><a class="docs-heading-anchor-permalink" href="#Metrics-and-Grids" title="Permalink"></a></h3><p>Setting the metrics keyword option as</p><pre><code class="language-julia">sequence(A, metrics=(L2, ENERGY))</code></pre><p>means to use <code>Distances.SqEuclidean()</code> and <code>SequencerJ.Energy()</code>.</p><p>With equal effect, you can write:</p><pre><code class="language-julia">sequence(A, metrics=(SqEuclidean(), Energy())</code></pre><p>You can specify a threshold for the <code>SqEuclidean</code> calculations. To use, e.g., <code>1e-7</code> means round to zero any distance calculation results smaller than <code>1e-7</code>.</p><pre><code class="language-julia">sequence(A, metrics=(SqEuclidean(1e-7), Energy())</code></pre><p>To specify a non-unit data grid, set <code>grid</code> as a <code>Vector{AbstractFloat}</code> in the range [0.0-1.0) and use the Distance type, not the constant.</p><pre><code class="language-example">using SequencerJ #hide
A = rand(100,100);
M,N = size(A)
g = collect(0.0:0.5:N-1)
sequence(A, metrics=(Energy()), grid=g)</code></pre><p>To these four metrics, the intention is to add spectral methods for complex (i.e. 2-D) inputs and any other Distances that make sense for sequencing 1-D or 2-D data. I would love community help with this!</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« ABCs of SequencerJ</a><a class="docs-footer-nextpage" href="../examples/">Examples »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Saturday 12 September 2020 14:07">Saturday 12 September 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
